// Утилиты для работы с цветами

// Словарь цветов с их HEX кодами (только русские названия)
const colorDictionary: Record<string, string> = {
  // Основные цвета
  'красный': '#FF0000',
  'красная': '#FF0000',
  'красное': '#FF0000',
  'красные': '#FF0000',
  
  'синий': '#0000FF',
  'синяя': '#0000FF',
  'синее': '#0000FF',
  'синие': '#0000FF',
  
  'зелёный': '#00FF00',
  'зелёная': '#00FF00',
  'зелёное': '#00FF00',
  'зелёные': '#00FF00',
  'зеленый': '#00FF00',
  'зеленая': '#00FF00',
  'зеленое': '#00FF00',
  'зеленые': '#00FF00',
  
  'жёлтый': '#FFFF00',
  'жёлтая': '#FFFF00',
  'жёлтое': '#FFFF00',
  'жёлтые': '#FFFF00',
  'желтый': '#FFFF00',
  'желтая': '#FFFF00',
  'желтое': '#FFFF00',
  'желтые': '#FFFF00',
  
  'чёрный': '#000000',
  'чёрная': '#000000',
  'чёрное': '#000000',
  'чёрные': '#000000',
  'черный': '#000000',
  'черная': '#000000',
  'черное': '#000000',
  'черные': '#000000',
  
  'белый': '#FFFFFF',
  'белая': '#FFFFFF',
  'белое': '#FFFFFF',
  'белые': '#FFFFFF',
  
  // Дополнительные цвета
  'оранжевый': '#FFA500',
  'оранжевая': '#FFA500',
  'оранжевое': '#FFA500',
  'оранжевые': '#FFA500',
  
  'фиолетовый': '#800080',
  'фиолетовая': '#800080',
  'фиолетовое': '#800080',
  'фиолетовые': '#800080',
  
  'розовый': '#FFC0CB',
  'розовая': '#FFC0CB',
  'розовое': '#FFC0CB',
  'розовые': '#FFC0CB',
  
  'серый': '#808080',
  'серая': '#808080',
  'серое': '#808080',
  'серые': '#808080',
  
  'коричневый': '#A52A2A',
  'коричневая': '#A52A2A',
  'коричневое': '#A52A2A',
  'коричневые': '#A52A2A',
  
  'голубой': '#00FFFF',
  'голубая': '#00FFFF',
  'голубое': '#00FFFF',
  'голубые': '#00FFFF',
  
  'малиновый': '#DC143C',
  'малиновая': '#DC143C',
  'малиновое': '#DC143C',
  'малиновые': '#DC143C',
  
  'лавандовый': '#E6E6FA',
  'лавандовая': '#E6E6FA',
  'лавандовое': '#E6E6FA',
  'лавандовые': '#E6E6FA',
  
  'мятный': '#98FF98',
  'мятная': '#98FF98',
  'мятное': '#98FF98',
  'мятные': '#98FF98',
  
  'персиковый': '#FFDAB9',
  'персиковая': '#FFDAB9',
  'персиковое': '#FFDAB9',
  'персиковые': '#FFDAB9',
  
  'коралловый': '#FF7F50',
  'коралловая': '#FF7F50',
  'коралловое': '#FF7F50',
  'коралловые': '#FF7F50',
  
  'оливковый': '#808000',
  'оливковая': '#808000',
  'оливковое': '#808000',
  'оливковые': '#808000',
  
  'индиго': '#4B0082',
  
  'песочный': '#F4A460',
  'песочная': '#F4A460',
  'песочное': '#F4A460',
  'песочные': '#F4A460',
  
  'шоколадный': '#D2691E',
  'шоколадная': '#D2691E',
  'шоколадное': '#D2691E',
  'шоколадные': '#D2691E',
  
  'небесно-голубой': '#87CEEB',
  'небесно-голубая': '#87CEEB',
  'небесно-голубое': '#87CEEB',
  'небесно-голубые': '#87CEEB',
  
  'ананасный': '#FFD700',
  'ананасная': '#FFD700',
  'ананасное': '#FFD700',
  'ананасные': '#FFD700',
  
  'золотой': '#FFD700',
  'золотая': '#FFD700',
  'золотое': '#FFD700',
  'золотые': '#FFD700',
  
  'серебряный': '#C0C0C0',
  'серебряная': '#C0C0C0',
  'серебряное': '#C0C0C0',
  'серебряные': '#C0C0C0',
  
  'бронзовый': '#CD7F32',
  'бронзовая': '#CD7F32',
  'бронзовое': '#CD7F32',
  'бронзовые': '#CD7F32',
  
  'бирюзовый': '#40E0D0',
  'бирюзовая': '#40E0D0',
  'бирюзовое': '#40E0D0',
  'бирюзовые': '#40E0D0',
  
  'сиреневый': '#DDA0DD',
  'сиреневая': '#DDA0DD',
  'сиреневое': '#DDA0DD',
  'сиреневые': '#DDA0DD',
  
  'вишнёвый': '#DC143C',
  'вишнёвая': '#DC143C',
  'вишнёвое': '#DC143C',
  'вишнёвые': '#DC143C',
  'вишневый': '#DC143C',
  'вишневая': '#DC143C',
  'вишневое': '#DC143C',
  'вишневые': '#DC143C',
  
  'морской': '#000080',
  'морская': '#000080',
  'морское': '#000080',
  'морские': '#000080',
  
  'тёмно-синий': '#000080',
  'темно-синий': '#000080',
  
  'светло-голубой': '#ADD8E6',
  'светло-голубая': '#ADD8E6',
  'светло-голубое': '#ADD8E6',
  'светло-голубые': '#ADD8E6',
  
  'тёмно-зелёный': '#006400',
  'темно-зеленый': '#006400',
  
  'светло-зелёный': '#90EE90',
  'светло-зеленая': '#90EE90',
  'светло-зеленое': '#90EE90',
  'светло-зеленые': '#90EE90',
  
  'тёмно-красный': '#8B0000',
  'темно-красный': '#8B0000',
  
  'светло-розовый': '#FFB6C1',
  'светло-розовая': '#FFB6C1',
  'светло-розовое': '#FFB6C1',
  'светло-розовые': '#FFB6C1',
  
  'бежевый': '#F5F5DC',
  'бежевая': '#F5F5DC',
  'бежевое': '#F5F5DC',
  'бежевые': '#F5F5DC',
  
  'кремовый': '#FFFDD0',
  'кремовая': '#FFFDD0',
  'кремовое': '#FFFDD0',
  'кремовые': '#FFFDD0',
  
  'хаки': '#806B2A',
  
  'бордовый': '#800020',
  'бордовая': '#800020',
  'бордовое': '#800020',
  'бордовые': '#800020',
  
  'пурпурный': '#800080',
  'пурпурная': '#800080',
  'пурпурное': '#800080',
  'пурпурные': '#800080',
  
  'лаймовый': '#32CD32',
  'лаймовая': '#32CD32',
  'лаймовое': '#32CD32',
  'лаймовые': '#32CD32',
  
  'оранжево-красный': '#FF4500',
  'оранжево-красная': '#FF4500',
  'оранжево-красное': '#FF4500',
  'оранжево-красные': '#FF4500',
  
  'глубокий-синий': '#00008B',
  'глубокий-синяя': '#00008B',
  'глубокий-синее': '#00008B',
  'глубокий-синие': '#00008B',
  
  'глубокий-зелёный': '#006400',
  'глубокий-зеленая': '#006400',
  'глубокий-зеленое': '#006400',
  'глубокий-зеленые': '#006400',
  
  'глубокий-красный': '#8B0000',
  'глубокий-красная': '#8B0000',
  'глубокий-красное': '#8B0000',
  'глубокий-красные': '#8B0000',
  
  'пастельный-розовый': '#FFC0CB',
  'пастельный-розовая': '#FFC0CB',
  'пастельный-розовое': '#FFC0CB',
  'пастельный-розовые': '#FFC0CB',
  
  'пастельный-голубой': '#ADD8E6',
  'пастельный-голубая': '#ADD8E6',
  'пастельный-голубое': '#ADD8E6',
  'пастельный-голубые': '#ADD8E6',
  
  'пастельный-зелёный': '#90EE90',
  'пастельный-зеленая': '#90EE90',
  'пастельный-зеленое': '#90EE90',
  'пастельный-зеленые': '#90EE90',
  
  'пастельный-жёлтый': '#FFFFE0',
  'пастельный-желтый': '#FFFFE0',
  'пастельный-желтая': '#FFFFE0',
  'пастельный-желтое': '#FFFFE0',
  'пастельный-желтые': '#FFFFE0',
  
  'металлический-серебристый': '#C0C0C0',
  'металлический-серебристая': '#C0C0C0',
  'металлический-серебристое': '#C0C0C0',
  'металлический-серебристые': '#C0C0C0',
  
  'металлический-золотистый': '#FFD700',
  'металлический-золотистая': '#FFD700',
  'металлический-золотистое': '#FFD700',
  'металлический-золотистые': '#FFD700',
  
  'металлический-бронзовый': '#CD7F32',
  'металлический-бронзовая': '#CD7F32',
  'металлический-бронзовое': '#CD7F32',
  'металлический-бронзовые': '#CD7F32',
  
  'прозрачный': '#FFFFFF',
  'прозрачная': '#FFFFFF',
  'прозрачное': '#FFFFFF',
  'прозрачные': '#FFFFFF',
  
  'бесцветный': '#FFFFFF',
  'бесцветная': '#FFFFFF',
  'бесцветное': '#FFFFFF',
  'бесцветные': '#FFFFFF',
  
  'многоцветный': '#FF0000',
  'многоцветная': '#FF0000',
  'многоцветное': '#FF0000',
  'многоцветные': '#FF0000',
  
  'радужный': '#FF0000',
  'радужная': '#FF0000',
  'радужное': '#FF0000',
  'радужные': '#FF0000'
};

/**
 * Автоматически определяет HEX код цвета по названию
 * @param colorName - название цвета
 * @returns HEX код цвета или null, если не найден
 */
export function getHexByColorName(colorName: string): string | null {
  if (!colorName) return null;
  
  // Приводим к нижнему регистру и убираем лишние пробелы
  const normalizedName = colorName.toLowerCase().trim();
  
  // Прямое совпадение
  if (colorDictionary[normalizedName]) {
    return colorDictionary[normalizedName];
  }
  
  // Поиск по частичному совпадению
  for (const [key, value] of Object.entries(colorDictionary)) {
    if (normalizedName.includes(key) || key.includes(normalizedName)) {
      return value;
    }
  }
  
  // Поиск по словам в названии
  const words = normalizedName.split(/\s+/);
  for (const word of words) {
    if (colorDictionary[word]) {
      return colorDictionary[word];
    }
  }
  
  return null;
}

/**
 * Проверяет, является ли строка валидным HEX кодом
 * @param hex - строка для проверки
 * @returns true, если это валидный HEX код
 */
export function isValidHex(hex: string): boolean {
  return /^#[0-9A-F]{6}$/i.test(hex);
}

/**
 * Генерирует случайный HEX код цвета
 * @returns случайный HEX код
 */
export function generateRandomHex(): string {
  return '#' + Math.floor(Math.random()*16777215).toString(16).padStart(6, '0');
}

/**
 * Получает список всех доступных цветов
 * @returns объект с названиями и HEX кодами
 */
export function getAvailableColors(): Record<string, string> {
  return { ...colorDictionary };
}
